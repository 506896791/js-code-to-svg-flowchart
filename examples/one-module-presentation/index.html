<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.2.4/tiny-slider.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.2.4/min/tiny-slider.js"></script>
    <style>
        body {
            padding: 20px 50px;
            font-family: monospace;
            font-size: 11pt;
            color: #333333;
        }
    </style>
</head>
<body>

<div id="container"> </div>

<script src="../../dist/js2flowchart.js"></script>
<script>
    const code = `
        import doSomething, {special} from 'lib-for-something';
        import fileReader from './src/file';

        function helperFunction(stuff){
            doHelp(stuff);
        }

        class Animal extends Zero {
            constructor(b) {
                this.s = 12;
            }

            getA(){
                helperFunction('help');
                return this.a;
            }

            setName(name) {
                if (!callCheck()) {
                    name = this.getAa();
                }
                this.name = name;
            }
        }

        class Man {
            constructor(n) {
                this.name = n;
            }

            sayName(log) {
                log('call..')
                return this.name
            }
        }

        const print = (text, options) => {
            if (text) {
                console.log(text);
            }
        }

        export default Man;
    `;

    //API
    const {createPresentationGenerator} = window['js2flowchart'];

    const presentationGenerator = createPresentationGenerator(code);
    const slides = presentationGenerator.buildSlides();

    const slideNames = [
        'See exports: what module provides?',
        '..and imports: what it depends on?',
        'Classes and functions',
        '...and dependencies between functions',
        'See all details'
    ];

    document.getElementById('container').appendChild(

        slides.reduce((fragment, svg, i) => {
            const span = document.createElement('span');
            span.innerHTML = `
                <p>${slideNames[i]}</p>
                <div>${svg}</div>
            `;

            fragment.appendChild(span);
            return fragment;
        }, document.createDocumentFragment())

    );

    window['tns']({
        container: '#container',
        mouseDrag: true,
        arrowKeys: true,
        loop: false,
        speed: 1000,
        mode: 'gallery'
    });

</script>
</body>
</html>
